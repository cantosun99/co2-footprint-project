<!DOCTYPE html>
<html x-data="co2Table()" :lang="lang" dir="ltr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" />
    <title x-text="l('CO₂-Footprint','CO₂-Footprint')">CO₂-Footprint Transparenz</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body class="antialiased text-gray-800 bg-white">

<!-- Kopfzeile -->
<header class="fixed inset-x-0 top-0 z-50 bg-green-700 text-white h-16">
    <div class="container mx-auto flex items-center justify-between h-full px-4">
        <div class="flex items-center gap-3">
            <img src="logo.png" alt="Logo" class="h-12 w-12" />
            <span class="font-semibold text-2xl md:text-3xl tracking-wide" x-text="l('CO₂-Footprint','CO₂-Footprint')">CO₂-Footprint</span>
        </div>
        <!-- Navigation & Sprache -->
        <div class="flex flex-col md:flex-row items-center gap-4 md:gap-6 text-sm">
            <nav class="flex items-center gap-4">
                <a href="index.html" class="hover:underline font-bold underline" x-text="l('CO₂-Daten','CO₂ Data')">CO₂-Daten</a>
                <a href="about.html" class="hover:underline" x-text="l('Über uns & Kontakt','About us & Contact')">Über uns & Kontakt</a>
            </nav>
            <div class="flex items-center gap-2">
                <button @click="setLang('de')" :class="lang==='de'?'font-bold underline':''">DE</button><span>|</span>
                <button @click="setLang('en')" :class="lang==='en'?'font-bold underline':''">EN</button>
            </div>
        </div>
    </div>
</header>

<!-- Seitenleiste -->
<aside
        class="fixed bg-gray-100 overflow-auto
           top-16 left-0 right-0 h-16 w-full
           md:top-16 md:bottom-16 md:left-0 md:right-auto md:h-auto md:w-1/4
           px-4 py-2 z-40"
>
    <ul class="flex md:flex-col justify-around md:justify-start space-x-4 md:space-x-0 md:space-y-2">
        <li><a href="#mission" class="hover:underline" x-text="l('Unsere Mission','Our Mission')">Unsere Mission</a></li>
        <li><a href="#daten" class="hover:underline" x-text="l('CO₂-Daten','CO₂ Data')">CO₂-Daten</a></li>
        <li><a href="#glossar" class="hover:underline" x-text="l('Glossar','Glossary')">Glossar</a></li>
    </ul>
</aside>

<!-- Hauptinhalt -->
<main class="overflow-auto
               pt-32 pb-16
               md:pt-16 md:pb-16 md:ml-[25%]
               min-h-screen"
>
    <div class="container mx-auto p-4 space-y-8">
        <section id="mission">
            <h1 class="text-2xl font-bold mb-4" x-text="l('Unsere Mission','Our Mission')">Unsere Mission</h1>
            <p class="mb-4" x-text="l(
            'Unsere Mission ist es, eine öffentlich zugängliche Plattform bereitzustellen, die jederzeit transparente und nachvollziehbare CO₂-Emissionsdaten für digitale Anwendungen liefert. Damit möchten wir Entwickler:innen, Unternehmen und die breite Öffentlichkeit befähigen, fundierte Entscheidungen für eine nachhaltigere Zukunft zu treffen.',
            'Our mission is to provide a publicly accessible platform that delivers transparent and traceable CO₂ emissions data for digital applications at any time. We aim to empower developers, businesses, and the general public to make informed decisions for a more sustainable future.'
        )">Unsere Mission ist es, eine öffentlich zugängliche Plattform bereitzustellen...</p>
        </section>

        <section id="daten">
            <h1 class="text-2xl font-bold mb-4" x-text="l('CO₂-Daten','CO₂ Data')">CO₂-Daten</h1>
            <p class="mb-4" x-text="l(
            'Filtern Sie nach Land oder Unternehmen, um spezifische Datensätze anzuzeigen. Klicken Sie auf die Spaltenüberschriften, um die Ergebnisse zu sortieren.',
            'Filter by country or company to display specific datasets. Click on column headers to sort the results.'
        )">Filtern Sie nach Land oder Unternehmen...</p>
            <div class="flex flex-wrap gap-6 mb-6">
                <div>
                    <label for="country" class="block text-sm font-medium" x-text="l('Land filtern','Filter country')">Land filtern</label>
                    <input id="country" type="text" x-model="countryFilter" @input="sanitize('countryFilter')" class="mt-1 border rounded px-2 py-1 w-40" />
                </div>
                <div>
                    <label for="company" class="block text-sm font-medium" x-text="l('Unternehmen filtern','Filter company')">Unternehmen filtern</label>
                    <input id="company" type="text" x-model="companyFilter" @input="sanitize('companyFilter')" class="mt-1 border rounded px-2 py-1 w-40" />
                </div>
            </div>
            <div class="overflow-x-auto rounded shadow">
                <table class="min-w-full text-left text-sm">
                    <thead class="bg-gray-200 select-none">
                    <tr>
                        <th class="px-4 py-2 cursor-pointer" @click="sort('country')">
                            <span x-text="l('Land','Country')">Land</span>
                            <span x-text="sortKey==='country'? (sortAsc?'▲':'▼'): ''" class="text-gray-800"></span>
                        </th>
                        <th class="px-4 py-2 cursor-pointer" @click="sort('company')">
                            <span x-text="l('Unternehmen','Company')">Unternehmen</span>
                            <span x-text="sortKey==='company'? (sortAsc?'▲':'▼'): ''" class="text-gray-800"></span>
                        </th>
                        <th class="px-4 py-2 cursor-pointer" @click="sort('emissions')">
                            <span x-text="l('Emissionen (Mt)','Emissions (Mt)')">Emissionen (Mt)</span>
                            <span x-text="sortKey==='emissions'? (sortAsc?'▲':'▼'): ''" class="text-gray-800"></span>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <template x-for="row in filteredRows" :key="row.id">
                        <tr class="even:bg-gray-50 hover:bg-gray-100">
                            <td class="px-4 py-2" x-text="row.country[lang]"></td>
                            <td class="px-4 py-2" x-text="row.company"></td>
                            <td class="px-4 py-2" x-text="row.emissions.toLocaleString(lang==='de'?'de-DE':'en-US')"></td>
                        </tr>
                    </template>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="glossar">
            <h1 class="text-2xl font-bold mb-4" x-text="l('Glossar','Glossary')">Glossar</h1>
            <dl class="space-y-4">
                <div>
                    <dt class="font-semibold" x-text="l('CO₂-Footprint','CO₂ Footprint')">CO₂-Footprint</dt>
                    <dd x-text="l(
                'Gesamtheit der Treibhausgasemissionen in CO₂-Äquivalenten, die durch eine Aktivität verursacht werden.',
                'Total greenhouse gas emissions expressed in CO₂ equivalents caused by an activity.'
            )">Gesamtheit der Treibhausgasemissionen...</dd>
                </div>
                <div>
                    <dt class="font-semibold" x-text="l('Emissionen (Mt)','Emissions (Mt)')">Emissionen (Mt)</dt>
                    <dd x-text="l(
                'CO₂-Emissionen gemessen in Megatonnen (1 Mt = 1 Mio. Tonnen CO₂).',
                'CO₂ emissions measured in megatonnes (1 Mt = 1 million tonnes of CO₂).'
            )">CO₂-Emissionen gemessen...</dd>
                </div>
            </dl>
        </section>
    </div>
</main>

<!-- Fußzeile -->
<footer class="fixed inset-x-0 bottom-0 bg-gray-200 text-xs text-center p-4 h-16">
    <p x-text="l('© 2025 CO₂-Footprint Initiative – Alle Rechte vorbehalten.','© 2025 CO₂-Footprint Initiative – All rights reserved.')">
        © 2025 CO₂-Footprint Initiative – Alle Rechte vorbehalten.
    </p>
    <p class="mt-2">
        <a href="legal.html" class="underline font-bold" x-text="l('Impressum & Datenschutzerklärung','Imprint & Privacy')">Impressum & Datenschutzerklärung</a>
    </p>
</footer>

<script src="app.js"></script>
</body>
</html>
